!function(){"use strict";function n(n){return document.getElementById(n)}function t(n,t,e){var a=document.createElement("canvas");return a.width=t,a.height=e,a.id=n,a}function e(){var n=setInterval(function(){c={},a(c,A),w.push(c),w.length===g&&clearTimeout(n)},20)}function a(n,t){n.x=20*Math.random()-10+q,n.y=10*Math.random()-5+t,n.ax=4*Math.random()+2,n.vx=.2*Math.random()+.1,n.vy=1.5*Math.random()+.2,n.radius=15*Math.random()+5}function i(){y.length=0,M.length=0,x.length=0;for(var n=w.length,t=0;n>t;t+=1)c=w[t],c.x+=.5*Math.sin(c.ax+=.01),c.y-=c.vy,b||(c.y<A-15+20*Math.random()?x.push(c):c.y<A-5+10*Math.random()?M.push(c):y.push(c)),c.radius*=.99,c.vy*=.995,(c.x>f||c.x<0||c.y<0||c.radius<=.5)&&a(c,A)}function r(){if(s.save(),b){s.fillStyle="rgba(237, 237, 230, "+F+")";for(var n=w.length,t=0;n>t;t+=1)o(w[t])}else{s.fillStyle="rgba(175, 0, 0, "+F+")";for(var n=y.length,t=0;n>t;t+=1)o(y[t]);s.fillStyle="rgba(255, 167, 10, "+F+")";for(var n=M.length,t=0;n>t;t+=1)o(M[t]);s.fillStyle="rgba(237, 237, 230, "+F+")";for(var n=x.length,t=0;n>t;t+=1)o(x[t])}s.restore()}function o(n){s.beginPath(),s.arc(n.x,n.y,n.radius,0,p,!1),s.fill()}function u(){s.clearRect(0,0,f,v),i(),r(),requestAnimFrame(u)}function d(){n("data-smoke").addEventListener("click",function(){b=!0},!1),n("data-fire").addEventListener("click",function(){b=!1},!1)}var l,m,s,c,h,f=500,v=300,g=250,w=[],y=[],M=[],x=[],p=2*Math.PI,q=270,A=170,F=.3,b=!0;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n,t){window.setTimeout(n,1e3/60)}}(),l=n("wrapper"),m=t("canvas",f,v),l.appendChild(m),s=m.getContext("2d"),e(),h=setTimeout(u,10),d()}();